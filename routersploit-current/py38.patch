From 47183c74a49f641f818a157e9c5973b9eb7fa78c Mon Sep 17 00:00:00 2001
From: Felix Yan <felixonmars@archlinux.org>
Date: Tue, 12 Nov 2019 15:10:58 -0600
Subject: [PATCH] Do not update the same dict while iterating (fixes #623)
 (#626)

Fixes compatibility with Python 3.8.
---
 routersploit/core/exploit/exploit.py | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/routersploit/core/exploit/exploit.py b/routersploit/core/exploit/exploit.py
index f21fac7f..535fd096 100644
--- a/routersploit/core/exploit/exploit.py
+++ b/routersploit/core/exploit/exploit.py
@@ -42,7 +42,7 @@ def __new__(cls, name, bases, attrs):
         else:
             attrs["exploit_attributes"] = {k: v for d in base_exploit_attributes for k, v in iteritems(d)}
 
-        for key, value in iteritems(attrs):
+        for key, value in iteritems(attrs.copy()):
             if isinstance(value, Option):
                 value.label = key
                 attrs["exploit_attributes"].update({key: [value.display_value, value.description, value.advanced]})
